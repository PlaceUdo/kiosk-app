<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í”Œë ˆì´ìŠ¤ìš°ë„ í‚¤ì˜¤ìŠ¤í¬</title>
    <style>
        body { font-family: 'Gulim', sans-serif; text-align: center; }
        .hidden { display: none !important; }
        .menu-container { display: grid; grid-template-columns: repeat(6, 1fr); gap: 10px; margin-top: 20px; justify-items: center; }
        .menu-item { font-size: 18px; padding: 10px; border: 1px solid #ccc; cursor: pointer; width: 200px; text-align: center; display: flex; flex-direction: column; align-items: center; }
        .menu-item img { width: 100px; height: 100px; object-fit: cover; margin-bottom: 10px; }
        .cart-container { margin-top: 20px; }
        .cart-table { width: 80%; margin: auto; border-collapse: collapse; }
        .cart-table th, .cart-table td { border: 1px solid #ccc; padding: 10px; text-align: center; }
        .quantity-controls { display: flex; align-items: center; justify-content: center; }
        .quantity-controls button { margin: 0 5px; cursor: pointer; }
        .hot { color: red; font-weight: bold; }
        .ice { color: blue; font-weight: bold; }
        .popup { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 20px; border: 2px solid black; display: none; z-index: 10; }
        .popup button { margin: 10px; padding: 10px; font-size: 18px; cursor: pointer; }
        .popup-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); display: none; z-index: 9; }
        .language-buttons { display: flex; flex-direction: column; align-items: center; gap: 10px; }
        .language-buttons button { width: var(--btn-width, 300px); height: var(--btn-height, 50px); font-size: 20px; cursor: pointer; text-align: center; display: flex; justify-content: center; align-items: center; }
#backButton {
    width: 300px;  /* ì›í•˜ëŠ” ë„ˆë¹„ */
    height: 60px;  /* ì›í•˜ëŠ” ë†’ì´ */
    font-size: 20px;  /* ê¸€ì í¬ê¸° */
    padding: 10px;  /* ë‚´ë¶€ ì—¬ë°± */
    margin-top: 20px;  /* ìœ„ìª½ ì—¬ë°± */
    cursor: pointer;
}
.popup-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5); /* âœ… íšŒìƒ‰ ë°˜íˆ¬ëª… ë°°ê²½ */
    display: none;
    z-index: 9;
}

.hot-button {
    background-color: red;
    color: black;
    font-weight: bold;
    padding: 10px 20px;
    border: none;
    cursor: pointer;
    font-size: 18px;
}

.ice-button {
    background-color: blue;
    color: white;
    font-weight: bold;
    padding: 10px 20px;
    border: none;
    cursor: pointer;
    font-size: 18px;
}
    </style>
</head>
<body onload="showLanguageScreen()">
    <h1 id="kioskTitle">í”Œë ˆì´ìŠ¤ìš°ë„</h1>

    <div id="languageScreen" class="language-buttons">
        <button onclick="showMenuScreen('ko')">í•œêµ­ì–´</button>
        <button onclick="showMenuScreen('zh')">ä¸­æ–‡</button>
        <button onclick="showMenuScreen('en')">English</button>
        <button onclick="showMenuScreen('ja')">æ—¥æœ¬èª</button>
    </div>

<div id="menuScreen" class="hidden">
    <h2 id="menuTitle">ë©”ë‰´</h2>
<div id="totalAmount" style="position: absolute; top: 20px; right: 20px; font-size: 24px; font-weight: bold; color: #333;">
    ì´ í•©ê³„: â‚©0
</div>
    <!-- âœ… ì¥ë°”êµ¬ë‹ˆ ìœ„ì¹˜ë¥¼ ë©”ë‰´ ìœ„ë¡œ ì´ë™ -->
    <div class="cart-container">
        <h2 id="cartTitle">ì¥ë°”êµ¬ë‹ˆ</h2>
        <table class="cart-table">
            <thead>
                <tr>
                    <th>NO</th>
                    <th>ìƒí’ˆëª…</th>
                    <th>íŒë§¤ë‹¨ê°€</th>
                    <th>ìˆ˜ëŸ‰</th>
                    <th>ì´ì•¡</th>
                </tr>
            </thead>
            <tbody id="cartList"></tbody>
        </table>
    </div>

    <div id="menuList" class="menu-container"></div>

    <button id="backButton" onclick="showLanguageScreen()">ì–¸ì–´ ì„ íƒ í™”ë©´ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
    <button onclick="clearCart()" style="position: fixed; bottom: 20px; right: 20px; padding: 10px 20px; font-size: 18px; cursor: pointer;">
    ì¥ë°”êµ¬ë‹ˆ ë¹„ìš°ê¸°
</button>
</div>


<div id="popupOverlay" class="popup-overlay"></div>
<div id="popup" class="popup">
    <p>HOT ë˜ëŠ” ICEë¥¼ ì„ íƒí•˜ì„¸ìš”</p>
    <button class="hot-button" onclick="confirmSelection('hot')">HOT</button>
    <button class="ice-button" onclick="confirmSelection('ice')">ICE</button>
</div>



    <script>
let cart = []; // ğŸš€ ì¥ë°”êµ¬ë‹ˆ ë°°ì—´ ì¶”ê°€
      let selectedLang = 'ko'; // ê¸°ë³¸ê°’ì„ í•œêµ­ì–´ë¡œ ì„¤ì •
      let menuItems = {
    ko: [
        { name: "ì•„ë©”ë¦¬ì¹´ë…¸", price: 6000, img: "americano.jpg" },
        { name: "ì¹´í˜ë¼ë–¼", price: 6500, img: "cafelatte.jpg" },
        { name: "ë°”ë‹ë¼ë¼ë–¼", price: 7000, img: "vanillalatte.jpg" },
        { name: "ì¹´í˜ëª¨ì¹´", price: 7000, img: "cafemocha.jpg" },
        { name: "ìš°ë„ë•…ì½©í¬ë¦¼ë¼ë–¼", price: 8500, img: "udopeanutcreamlatte.jpg" },
        { name: "í‘ì„ìí¬ë¦¼ë¼ë–¼", price: 8500, img: "blackseamelatte.jpg" },
        { name: "ìš°ë„ë•…ì½©ì•„ì´ìŠ¤í¬ë¦¼ë¼ë–¼", price: 9000, img: "udopeanuticecreamlatte.jpg" },
        { name: "ìš°ë„ë•…ì½©ì•„í¬ì¹´í† ", price: 900, img: "udopeanutaffogato.jpg" },
        { name: "ì—ìŠ¤í”„ë ˆì†Œ", price: 5000, img: "espresso.jpg" },
        { name: "ìºëª¨ë§ˆì¼", price: 6000, img: "chamomile.jpg" },
        { name: "ì²­ê·¤ì°¨", price: 6000, img: "greentangerinetea.jpg" },
        { name: "í•œë¼ë´‰ì°¨", price: 6000, img: "hallabongtea.jpg" },
        { name: "ì´ˆì½”ë¼ë–¼", price: 7000, img: "chocolatte.jpg" },
        { name: "ë…¹ì°¨ë¼ë–¼", price: 7000, img: "greentealatte.jpg" },
        { name: "ì²­ê·¤ì—ì´ë“œ", price: 7000, img: "greentangerineade.jpg" },
        { name: "í•œë¼ë´‰ì—ì´ë“œ", price: 7000, img: "hallabongade.jpg" },
        { name: "ë¸”ë£¨ë ˆëª¬ì—ì´ë“œ", price: 7000, img: "bluelemonade.jpg" },
        { name: "ìš°ë„ë•…ì½©ì•„ì´ìŠ¤í¬ë¦¼", price: 5000, img: "Udo peanut ice cream.jpg" },
        { name: "ìš°ë„ë•…ì½©ì•„ì´ìŠ¤í¬ë¦¼ê³¼ í¬ë¡œí”Œ", price: 10000, img: "Udo peanut ice cream and croffle.jpg" },      
        { name: "1664 ë¸”ë‘", price: 8000, img: "1664blanc.jpg" },
        { name: "ë¹… ì›¨ì´ë¸Œ", price: 9000, img: "bigwave.jpg" },
        { name: "ì½”ë¡œë‚˜", price: 7000, img: "corona.jpg" },
        { name: "ì¼ˆë¦¬", price: 5000, img: "kelly.jpg" }
             ],
    en: [       
        { name: "Americano", price: 6000, img: "americano.jpg" },
        { name: "Cafe latte", price: 6500, img: "cafelatte.jpg" },
        { name: "Vanilla latte", price: 7000, img: "vanillalatte.jpg" },
        { name: "Cafemocha", price: 7000, img: "cafemocha.jpg" },
        { name: "Udo peanut cream latte", price: 8500, img: "udopeanutcreamlatte.jpg" },
        { name: "Black sesame cream latte", price: 8500, img: "blackseamelatte.jpg" },
        { name: "Udo peanut ice creamlatte", price: 9000, img: "udopeanuticecreamlatte.jpg" },
        { name: "Udo peanut affogato", price: 900, img: "udopeanutaffogato.jpg" },
        { name: "Espresso", price: 5000, img: "espresso.jpg" },
        { name: "Chamomile", price: 6000, img: "chamomile.jpg" },
        { name: "Green tangerine tea", price: 6000, img: "greentangerinetea.jpg" },
        { name: "Hallabongtea", price: 6000, img: "hallabongtea.jpg" },
        { name: "Chocolatte", price: 7000, img: "chocolatte.jpg" },
        { name: "Green tea latte", price: 7000, img: "greentealatte.jpg" },
        { name: "Greentangerine ade", price: 7000, img: "greentangerineade.jpg" },
        { name: "Hallabong ade", price: 7000, img: "hallabongade.jpg" },
        { name: "Bluelemon ade", price: 7000, img: "bluelemonade.jpg" },
        { name: "Udo peanut ice cream", price: 5000, img: "Udo peanut ice cream.jpg" },
        { name: "Udo peanut ice cream and croffle", price: 10000, img: "Udo peanut ice cream and croffle.jpg" },      
        { name: "1664 Blanc", price: 8000, img: "1664blanc.jpg" },
        { name: "Big wave", price: 9000, img: "bigwave.jpg" },
        { name: "Corona", price: 7000, img: "corona.jpg" },
        { name: "kelly", price: 5000, img: "kelly.jpg" }

    ],
    zh: [
        { name: "ç¾å¼å’–å•¡", price: 6000, img: "americano.jpg" },
        { name: "æ‹¿é“", price: 6500, img: "cafelatte.jpg" },
        { name: "é¦™è‰æ‹¿é“", price: 7000, img: "vanillalatte.jpg" },
        { name: "æ‘©å¡", price: 7000, img: "cafemocha.jpg" },
        { name: "èŠ±ç”Ÿå¥¶æ²¹æ‹¿é“", price: 8500, img: "udopeanutcreamlatte.jpg" },
        { name: "Black sesame cream latte", price: 8500, img: "blackseamelatte.jpg" },
        { name: "Udo peanut ice creamlatte", price: 9000, img: "udopeanuticecreamlatte.jpg" },
        { name: "Udo peanut affogato", price: 900, img: "udopeanutaffogato.jpg" },
        { name: "Espresso", price: 5000, img: "espresso.jpg" },
        { name: "Chamomile", price: 6000, img: "chamomile.jpg" },
        { name: "Green tangerine tea", price: 6000, img: "greentangerinetea.jpg" },
        { name: "Hallabongtea", price: 6000, img: "hallabongtea.jpg" },
        { name: "Chocolatte", price: 7000, img: "chocolatte.jpg" },
        { name: "Green tea latte", price: 7000, img: "greentealatte.jpg" },
        { name: "Greentangerine ade", price: 7000, img: "greentangerineade.jpg" },
        { name: "Hallabong ade", price: 7000, img: "hallabongade.jpg" },
        { name: "Bluelemon ade", price: 7000, img: "bluelemonade.jpg" },
        { name: "Udo peanut ice cream", price: 5000, img: "Udo peanut ice cream.jpg" },
        { name: "Udo peanut ice cream and croffle", price: 10000, img: "Udo peanut ice cream and croffle.jpg" },      
        { name: "1664 Blanc", price: 8000, img: "1664blanc.jpg" },
        { name: "Big wave", price: 9000, img: "bigwave.jpg" },
        { name: "Corona", price: 7000, img: "corona.jpg" },
        { name: "kelly", price: 5000, img: "kelly.jpg" }

    ],
    ja: [  
        { name: "ç¾å¼å’–å•¡", price: 6000, img: "americano.jpg" },
        { name: "æ‹¿é“", price: 6500, img: "cafelatte.jpg" },
        { name: "é¦™è‰æ‹¿é“", price: 7000, img: "vanillalatte.jpg" },
        { name: "æ‘©å¡", price: 7000, img: "cafemocha.jpg" },
        { name: "èŠ±ç”Ÿå¥¶æ²¹æ‹¿é“", price: 8500, img: "udopeanutcreamlatte.jpg" },
        { name: "Black sesame cream latte", price: 8500, img: "blackseamelatte.jpg" },
        { name: "Udo peanut ice creamlatte", price: 9000, img: "udopeanuticecreamlatte.jpg" },
        { name: "Udo peanut affogato", price: 900, img: "udopeanutaffogato.jpg" },
        { name: "Espresso", price: 5000, img: "espresso.jpg" },
        { name: "Chamomile", price: 6000, img: "chamomile.jpg" },
        { name: "Green tangerine tea", price: 6000, img: "greentangerinetea.jpg" },
        { name: "Hallabongtea", price: 6000, img: "hallabongtea.jpg" },
        { name: "Chocolatte", price: 7000, img: "chocolatte.jpg" },
        { name: "Green tea latte", price: 7000, img: "greentealatte.jpg" },
        { name: "Greentangerine ade", price: 7000, img: "greentangerineade.jpg" },
        { name: "Hallabong ade", price: 7000, img: "hallabongade.jpg" },
        { name: "Bluelemon ade", price: 7000, img: "bluelemonade.jpg" },
        { name: "Udo peanut ice cream", price: 5000, img: "Udo peanut ice cream.jpg" },
        { name: "Udo peanut ice cream and croffle", price: 10000, img: "Udo peanut ice cream and croffle.jpg" },      
        { name: "1664 Blanc", price: 8000, img: "1664blanc.jpg" },
        { name: "Big wave", price: 9000, img: "bigwave.jpg" },
        { name: "Corona", price: 7000, img: "corona.jpg" },
        { name: "kelly", price: 5000, img: "kelly.jpg" }
       ],      
};          
        let selectedItem = null;

        function showLanguageScreen() {
            document.getElementById('languageScreen').classList.remove('hidden');
            document.getElementById('menuScreen').classList.add('hidden');
        }

function showMenuScreen(lang) {
    selectedLang = lang;  
    console.log("ì„ íƒëœ ì–¸ì–´:", selectedLang);  
    document.getElementById('languageScreen').classList.add('hidden');
    document.getElementById('menuScreen').classList.remove('hidden');
    displayMenu();  // âœ… ì˜¬ë°”ë¥´ê²Œ ë©”ë‰´ë¥¼ í‘œì‹œ
    updateCart();
}



function displayMenu() {
    let menuList = document.getElementById('menuList');
    menuList.innerHTML = '';

    let menuData = menuItems[selectedLang] || menuItems["ko"];  // ğŸš€ ê¸°ë³¸ ì–¸ì–´ ì„¤ì • ì¶”ê°€

    menuData.forEach((item, index) => {
        let translatedName = item.name;
        let menuItem = `<div class='menu-item' onclick='showPopup(${index})'>
            <img src='${item.img}' alt='${translatedName}'>
            <p>${translatedName}</p>
            <p>â‚©${item.price}</p>
        </div>`;
        menuList.innerHTML += menuItem;
    });
}



function showPopup(index) {
    selectedItem = menuItems[selectedLang][index];  
    document.getElementById('popup').style.display = 'block';
    document.getElementById('popupOverlay').style.display = 'block';
}


        function closePopup() {
            document.getElementById('popup').style.display = 'none';
            document.getElementById('popupOverlay').style.display = 'none';
            selectedItem = null;
        }

function confirmSelection(type) {
    if (!selectedItem) return;
    
    let itemName = selectedItem.name;  // ì„ íƒí•œ ì–¸ì–´ì˜ ë©”ë‰´ëª…
    let itemPrice = selectedItem.price;

    // í•œêµ­ì–´ ë©”ë‰´ ì´ë¦„ ì°¾ê¸°
    let koreanItem = menuItems['ko'].find(i => i.img === selectedItem.img);
    let koreanName = koreanItem ? koreanItem.name : itemName;

    // ì¥ë°”êµ¬ë‹ˆì— ì €ì¥í•  í˜•ì‹: "Americano (Ice) - ì•„ë©”ë¦¬ì¹´ë…¸ (Ice)"
    let fullItemName = `${itemName} (${type.toUpperCase()}) - ${koreanName} (${type.toUpperCase()})`;

    let cartItem = cart.find(i => i.name === fullItemName);
    
    if (cartItem) {
        cartItem.quantity += 1;
    } else {
        cart.push({ name: fullItemName, price: itemPrice, quantity: 1, type: type });
    }
    
    updateCart();
    closePopup();
}

function updateCart() {
    let cartList = document.getElementById('cartList');
    let totalAmountElement = document.getElementById('totalAmount'); 
    let totalAmount = 0;

    cartList.innerHTML = '';
    cart.forEach((item, index) => {
        let classType = item.type === 'hot' ? 'hot' : 'ice';
        let itemTotal = item.price * item.quantity;
        totalAmount += itemTotal;

        let cartRow = `<tr class="${classType}">
            <td>${index + 1}</td>
            <td>${item.name}</td> <!-- âœ… í•œêµ­ì–´ í¬í•¨ëœ ë©”ë‰´ëª… í‘œì‹œ -->
            <td>â‚©${item.price.toLocaleString()}</td>
            <td class="quantity-controls">
                <button onclick="changeQuantity(${index}, -1)">-</button>
                ${item.quantity}
                <button onclick="changeQuantity(${index}, 1)">+</button>
            </td>
            <td>â‚©${itemTotal.toLocaleString()}</td>
        </tr>`;
        cartList.innerHTML += cartRow;
    });

    totalAmountElement.innerText = `ì´ í•©ê³„: â‚©${totalAmount.toLocaleString()}`;
}

function confirmSelection(type) {
    if (!selectedItem) return;
    
    let itemName = selectedItem.name;
    let itemPrice = selectedItem.price;
    
    let cartItem = cart.find(i => i.name === itemName && i.type === type);
    
    if (cartItem) {
        cartItem.quantity += 1;
    } else {
        cart.push({ name: itemName, price: itemPrice, quantity: 1, type: type });
    }
    
    updateCart();
    closePopup();
}
let translations = {
    ko: "ì–¸ì–´ ì„ íƒ í™”ë©´ìœ¼ë¡œ ëŒì•„ê°€ê¸°",
    en: "Return to Language Selection",
    zh: "è¿”å›è¯­è¨€é€‰æ‹©",
    ja: "è¨€èªé¸æŠç”»é¢ã«æˆ»ã‚‹"
};

function showMenuScreen(lang) {
    selectedLang = lang;  
    console.log("ì„ íƒëœ ì–¸ì–´:", selectedLang);  
    document.getElementById('languageScreen').classList.add('hidden');
    document.getElementById('menuScreen').classList.remove('hidden');
    document.getElementById('backButton').innerText = translations[selectedLang]; // âœ… ë²„íŠ¼ ì–¸ì–´ ë³€ê²½
    displayMenu();
    updateCart();
}
function clearCart() {
    cart = [];  // ğŸš€ ì¥ë°”êµ¬ë‹ˆ ë°°ì—´ ì´ˆê¸°í™”
    updateCart();  // âœ… ì¥ë°”êµ¬ë‹ˆ UI ì—…ë°ì´íŠ¸
}
// íŒì—… ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«í˜ ê¸°ëŠ¥ ì¶”ê°€
document.getElementById("popupOverlay").addEventListener("click", function () {
    closePopup();
});
    </script>
</body>
</html>
